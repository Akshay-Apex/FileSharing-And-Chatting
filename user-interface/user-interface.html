<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TeliChat</title>
  <link rel="icon" href="../images/TeliChat-logo.png" type="image/x-icon" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="../index-style.css">
  <link rel="stylesheet" href="user-interface.css">     
</head>
<body>
  <main>
    <section class="wrapper-container">   

      <div class="head" id="head">
        <div class="leftHead" id="leftHead">
          <img src="../images/profile.png" alt="">
          My Profile   
                    
          <div class="btn-group">
            <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
              Menu
            </button>
            <ul class="dropdown-menu">
              <li><button class="dropdown-item" onclick="">New group</button></li>
              <li><button class="dropdown-item" onclick="">New community</button></li>
              <li><button class="dropdown-item" onclick="">Select chats</button></li>
              <li><button class="dropdown-item" onclick="">Settings</button></li>              
              <li><hr class="dropdown-divider"></li>
              <li><button onclick="logout()" class="dropdown-item" id="logoutBtn">Logout</button></li>
            </ul>
          </div>
        </div>
        <div class="rightHead">
          <img src="../images/profile.png" alt="">
          Friend's Profile         
          
          <div class="btn-group" id="btnPosition">
            <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
              Menu
            </button>
            <ul class="dropdown-menu">
              <li><button class="dropdown-item" onclick="">Contact info</button></li>
              <li><button class="dropdown-item" onclick="">Select messages</button></li>
              <li><button class="dropdown-item" onclick="">Close chat</button></li>
              <li><button class="dropdown-item" onclick="">Mute notifications</button></li>
              <li><button class="dropdown-item" onclick="">Clear chat</button></li>
              <li><button class="dropdown-item" onclick="">Delete chat</button></li>
              <li><button class="dropdown-item" onclick="">Report</button></li>
              <li><button class="dropdown-item" onclick="">Block</button></li>                                                 
            </ul>
          </div>

          <input type="text" name="searchMessages" placeholder="Search messages" id="searchMessages">          
        </div>
      </div>

      <div class="body" id="body">
        <div class="leftBody">
          <div class="search" id="search">
            <input type="text" placeholder="Search contacts">          
          </div>
          <div class="contacts" id="contacts">
            <p>Contacts list</p>
          </div>
        </div>
          
        <div class="rightBody">
          <div class="messages" id="messages">
            <p>Messages</p>            
          </div>
          <div class="typeMessage" id="typeMessage">
            <input type="text" placeholder="Type a message">   
            <button type="button" class="btn btn-success">Send</button>                           
            
            <button type="button" class="btn btn-primary" data-bs-toggle="dropdown" aria-expanded="false">
              Files
            </button>
            <ul class="dropdown-menu">
              <li><button class="dropdown-item" onclick="">Document</button></li>              
              <li><button class="dropdown-item" onclick="">Photos & Videos</button></li>              
              <li><button class="dropdown-item" onclick="">Camera</button></li>              
              <li><button class="dropdown-item" onclick="">Contacts</button></li>              
              <li><button class="dropdown-item" onclick="">New Sticker</button></li>                                                          
            </ul>          
          </div>
        </div>
      </div>

    </section>
  </main>
  
  <script>
    function adjustElementHeight(target, first) {
      const firstElement = document.getElementById(first);      
      const targetElement = document.getElementById(target);
    
      const firstElementHeight = firstElement.offsetHeight;      
      const viewportHeight = window.innerHeight;    

      const targetElementHeight = viewportHeight - firstElementHeight;
      targetElement.style.height = targetElementHeight + "px";
    }                
    
    function adjustElementHeights(target, first, second) {
      const firstElement = document.getElementById(first);      
      const secondElement = document.getElementById(second);      
      const targetElement = document.getElementById(target);

      const firstElementHeight = firstElement.offsetHeight;      
      const secondElementHeight = secondElement.offsetHeight;      
      const viewportHeight = window.innerHeight;        
      
      const sum = secondElementHeight + firstElementHeight;      
      const targetElementHeight = viewportHeight - sum;      
      targetElement.style.height = targetElementHeight + "px";
    }
    
    window.addEventListener("load", function() {
      adjustElementHeight("body", "head");
      adjustElementHeights("messages", "typeMessage", "head");
      adjustElementHeights("contacts", "search", "leftHead");
    }); 
    

    window.addEventListener("resize", function() {
      adjustElementHeight("body", "head");
      adjustElementHeights("messages", "typeMessage", "head");
      adjustElementHeights("contacts", "search", "leftHead");
    });             

    function logout() {
      window.location.replace("../index.html");
    }     
  </script>    
</body>
</html>